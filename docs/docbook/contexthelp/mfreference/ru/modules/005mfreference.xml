<!-- <?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.3CR3//EN"
                      "../../../../docbook-support/support/docbook-dtd/docbookx.dtd"
[
<!ENTITY chap_copyright SYSTEM "modules/copyright.xml">
<!ENTITY chap_005mfref SYSTEM "modules/005mfreference.xml">
<!ENTITY merp "Millennium ERP">
<!ENTITY mref "Справочники производства">
<!ENTITY manuf "Планирование и управление производством">
]> -->
<chapter id="005mfref">
  <title>Затраты и ресурсы</title>

  <section id="005mfref_01">
    <title>Категории затрат</title>

    <para>В системе &merp; стоимость производства изделия рассчитывается по категориям затрат.
      Например, затраты могут делиться на прямые и косвенные, или постоянные и переменные, или
      материалы
      основные, материалы вспомогательные, материалы упаковочные, заработную плату и т.п.
    </para>

    <para>Для каждой категории может применяться своя формула расчёта.</para>

    <para>Вход в справочник &quot;Категории затрат&quot; через главное меню
      <menuchoice>
        <guimenu>&manuf;</guimenu>
        <guisubmenu>&mref;</guisubmenu>
        <guisubmenu>Производство</guisubmenu>
        <guimenuitem>Категории затрат</guimenuitem>
      </menuchoice>
      .
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/costcategories.gif"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para><guibutton>Код</guibutton>. Краткое наименование категории затрат, которое будет
      использоваться в системе.
    </para>

    <para>Категории затрат при расчёте их конкретных значений могут зависеть как от нормативов
      (фактов),
      так и друг от друга. Поэтому предусмотрено поле для формулы и поле для порядка расчёта.
    </para>

    <para><guibutton>Порядок расчёта</guibutton>. Определяет очерёдность при расчёте стоимости.
    </para>

    <para><guibutton>Формула</guibutton>. Формула для расчёта стоимости хранится в справочнике
      &quot;Репозиторий алгоритмов&quot;.
    </para>

    <para><guibutton>Описание</guibutton>. Текстовое описание - что входит в данную
      категорию затрат.
    </para>

    <para>См. также:<link linkend="002mfref_03">Расшифровка стоимости</link>.
    </para>

  </section>

  <section id="005mfref_02">
    <title>Группы ресурсов</title>

    <para>Вход в справочник &quot;Группы ресурсов&quot; через главное меню
      <menuchoice>
        <guimenu>&manuf;</guimenu>
        <guisubmenu>&mref;</guisubmenu>
        <guisubmenu>Планирование</guisubmenu>
        <guimenuitem>Группы ресурсов</guimenuitem>
      </menuchoice>
      .
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/resourcegroup.gif"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para><guibutton>Код</guibutton>. Краткое наименование группы ресурсов для
      использования в системе &merp;.
    </para>

    <para><guibutton>Описание</guibutton>. Наименование или краткое описание группы ресурсов.
    </para>

    <para><guibutton>Признак ограниченного ресурса</guibutton>. Если это поле отмечено флагом, это
      значит что ресурс ограничен.
    </para>

    <para><guibutton>Критический уровень</guibutton>. Выбирается из справочника &quot;Уровни
      планирования&quot;.
      Например, если установлен уровень планирования &quot;Годовой&quot; (у которого номер уровня
      планирования равен 50), то для данной группы ресурсов будет рассчитываться загрузка для
      уровней
      планирования с номером меньше или равным 50, а для уровней планирования с номером больше 50
      считается, что уровень загрузки данного ресурса абсолютно неважен и для него никаких расчётов
      не производится.
    </para>

    <para><guibutton>Единица измерения</guibutton>. Единица измерения ёмкости ресурса.
    </para>

    <para><guibutton>Тип ресурса</guibutton>. Может принимать значение:
    </para>

    <itemizedlist>
      <listitem>материалы</listitem>
      <listitem>оборудование</listitem>
      <listitem>рабочая сила</listitem>
      <listitem>рабочий центр</listitem>
      <listitem>подразделение</listitem>
    </itemizedlist>

    <para>При назначении групп ресурсов различным объектам системы (рабочим центрам, подразделениям,
      материалам, оборудованию, рабочей силе в составах изделия) происходит фильтрация при открытии
      списка
      с ресурсами по их типу.
    </para>

    <para>Например, если Вы указываете ресурс рабочему центру, то доступны для выбора только ресурсы
      с типом &quot;рабочий центр&quot;. Если Вы указываете к какому ресурсу принадлежит материал,
      для
      выбора будут доступны ресурсы с типом &quot;материал&quot;.
    </para>

    <para>Если указан тип ресурса &quot;подразделение&quot;, нужно в справочнике
      &quot;Подразделения&quot; указать для подразделения, к какому ресурсу оно
      принадлежит.
    </para>

    <para><guibutton>Примечание</guibutton>. В это поле Вы можете записать небольшой текстовый
      комментарий.
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/res_group_cap.gif"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para>Ёмкость ресурса может изменяться с течением времени.</para>

    <para><guibutton>Плановая ёмкость ресурса</guibutton>. Плановая ёмкость ресурса (в единицах
      измерения, указанных в заголовке группы).
    </para>

    <para><guibutton>Максимум ёмкости ресурса</guibutton>. Максимально возможная ёмкость ресурса
      (в единицах измерения, указанных в заголовке группы).
    </para>

    <para><guibutton>Начало действия ёмкости</guibutton>. Начало действия указанных параметров.
    </para>

    <para><guibutton>Окончание действия ёмкости</guibutton>. Срок окончания действия указанных
      параметров.
    </para>

  </section>


  <section id="005mfref_03">
    <title>Семейства ресурсов</title>

    <para>При укрупнённом планировании для детализации ресурсов при переходе с одного уровня
      планирования
      на другой может быть полезна иерархия ресурсов.
    </para>

    <para>Подъём вверх по дереву ресурсов (переход от дочернего ресурса к родительскому)
      продолжается до тех пор,
      пока значение поля &quot;уровень планирования&quot; текущей записи меньше или равно текущего
      уровня
      планирования (то есть уровня планирования, который указан в параметрах расчёта УППМ).
    </para>

    <para>Вход в справочник &quot;Семейства ресурсов&quot; через главное меню
      <menuchoice>
        <guimenu>&manuf;</guimenu>
        <guisubmenu>&mref;</guisubmenu>
        <guisubmenu>Планирование</guisubmenu>
        <guimenuitem>Семейства ресурсов</guimenuitem>
      </menuchoice>
      .
    </para>

    <screenshot>
      <mediaobject>
        <imageobject>
          <imagedata fileref="images/resourcefamily.gif"/>
        </imageobject>
      </mediaobject>
    </screenshot>

    <para><guibutton>Уровень планирования</guibutton>. Указывается уровень планирования, на котором
      будет
      учитываться задаваемое соответствие групп ресурсов.
      Для уровня планирования с номером 1 иерархию ресурсов задать нельзя.
    </para>

    <para><guibutton>Родительская группа ресурсов</guibutton>.<link linkend="005mfref_02">Группа
      ресурсов</link>,
      которая на данном уровне планирования включает в себя дочернюю группу.
    </para>

    <para><guibutton>Дочерняя группа ресурсов</guibutton>. Группа ресурсов, которая на данном уровне
      планирования
      является частью родительской группы.
    </para>

    <para>Если на каком-то уровне группа A является родительской для группы B, то для этого уровня
      нельзя
      добавить запись, где группа A была бы для группы B дочерней.
    </para>

    <example>
      <para>Предположим, что есть следующая структура ресурсов.</para>

      <screenshot>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/hierarh_res.gif"/>
          </imageobject>
        </mediaobject>
      </screenshot>

      <para>На самом верхнем уровне есть ресурс N 1 &quot;Энергия&quot; на уровне планирования 50
        (предположим, это
        годовой уровень планирования). На уровне планирования 30 (месячный уровень планирования) он
        состоит из:
        2. Электроэнергия и 3. Тепловая энергия. В свою очередь, на уровне планирования 20
        (предположим, что это
        недельный уровень планирования) 2-ой ресурс состоит из: 4. Электроэнергия закупаемая и 5.
        Электроэнергия
        собственного производства. А 3-ий ресурс на том же 20-ом уровне планирования состоит из: 6.
        Тепловая
        энергия закупаемая 7. Тепловая энергия собственного производства.
      </para>

      <para>То есть, чем меньше уровень планирования (т.е. чем меньше период планирования и ближе
        горизонт
        планирования), тем больше становится детализация в иерархии ресурсов. Это естественно, так
        как чем ближе
        горизонт планирования, тем более детально мы хотим видеть информацию.
      </para>

      <para>Предположим, что идет расчёт черновой загрузки мощностей для уровня планирования 40
        (квартальный).
        Допустим, в одном из составов изделия встречается использование ресурса 5 - &quot;электроэнергия
        собственного
        производства&quot; в определённом количестве на единицу готового изделия.
      </para>

      <para>Так как по дереву ресурсов у этого ресурса есть родитель - ресурс с номером 3 и этот
        родительский
        ресурс принадлежит 30-му уровню планирования (что меньше текущего, 40-го уровня
        планирования), то ресурс
        5 заменяется на его родительский ресурс 2. И, в свою очередь, пытаемся перейти к родителю
        ресурса 2 - это
        ресурс 1, но этого сделать уже нельзя, так как ресурс 1 принадлежит уровню планирования 50,
        что больше
        текущего уровня планирования 40. Поэтому останавливаемся на ресурсе 2.
      </para>

      <para>Абсолютно аналогичная метаморфоза произойдет и с ресурсом с номером 4, если таковой
        встретится в
        одном из составов изделий.
      </para>

      <para>Таким образом, при заданных условиях, произойдет суммирование всех потребностей в
        ресурсах 4 и 5 и
        эта вычисленная суммарная потребность сгенерирует потребность в ресурсе 2, а потребностей в
        ресурсах 4 и 5
        в итоговом плане черновой загрузки вообще не будет. Будет только суммарная потребность в
        ресурсе 2.
      </para>

      <para>То есть, происходит поиск ближайшего снизу (по уровням планирования) ресурса. И ему
        присваивается
        вся суммарная потребность от всех нижестоящих ресурсов. Потому что, если мы делаем расчёт
        для уровня
        планирования 40, то предполагается, что нам не нужно знать потребности в детальных ресурсах
        4, 5, 6, 7
        (которые находятся на более детальных уровнях планирования), а нам более интересно
        подсуммировать эти
        потребности и показать их потребностью в более общем ресурсе (2 или 3).
      </para>
    </example>

  </section>
</chapter>
