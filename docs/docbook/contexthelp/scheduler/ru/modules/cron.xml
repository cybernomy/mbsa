<?xml version='1.0' encoding="UTF-8"?>

<chapter id="cron">
  <title>Cron-формат</title>

  <para>Cron-формат это простой, но мощный и гибкий способ описания времени и периодичности действий.
    &merp; использует cron-формат при указании временных интервалов в заданиях планировщика.
  </para>

  <para>Cron-формат состоит из нескольких полей, разделенных пробелами:</para>
  <programlisting><![CDATA[<Секунды> <Минуты> <Часы> <Дни_месяца> <Месяцы> <Дни_недели> <Годы>]]></programlisting>

  <table>
    <title>Описание полей</title>
    <tgroup cols="4">
     <thead>
        <row>
          <entry>Имя поля</entry>
          <entry>Обязательное</entry>
          <entry>Возможные значения</entry>
          <entry>Возможные специальные символы</entry>
        </row>
      </thead>
      <tbody>
        <row>
          <entry>Секунды</entry>
          <entry>Да</entry>
          <entry>0-59</entry>
          <entry>, - * /</entry>								
        </row>
        <row>
          <entry>Минуты</entry>
          <entry>Да</entry>
          <entry>0-59</entry>
          <entry>, - * /</entry>								
        </row>
        <row>
          <entry>Часы</entry>
          <entry>Да</entry>
          <entry>0-23</entry>
          <entry>, - * /</entry>								
        </row>
        <row>
          <entry>Дни месяца</entry>
          <entry>Да</entry>
          <entry>1-31</entry>
          <entry>, - * ? / L W</entry>								
        </row>
        <row>
          <entry>Месяцы</entry>
          <entry>Да</entry>
          <entry>1-12 или JAN-DEC</entry>
          <entry>, - * /</entry>								
        </row>
        <row>
          <entry>Дни недели</entry>
          <entry>Да</entry>
          <entry>1-7 или SUN-SAT</entry>
          <entry>, - * ? / L #</entry>								
        </row>
        <row>
          <entry>Годы</entry>
          <entry>Нет</entry>
          <entry>пусто или 1970-2099</entry>
          <entry>, - * /</entry>								
        </row>
      </tbody>
    </tgroup>
  </table>


  <para><guibutton>*</guibutton>. Это означает полный диапазон возможных значений, например, каждая минута, каждый час и т. д.</para>

  <para><guibutton>?</guibutton>. Нет специфического значения.</para>

  <para><guibutton>-</guibutton>. Задает диапазон значений.</para>

  <para><guibutton>/</guibutton>. Задает шаг изменения значения, например каждые два часа.</para>

  <para><guibutton>L</guibutton>. Последнее значение, например, последний день месяца.</para>

  <para><guibutton>W</guibutton>. Ближайший рабочий день недели, например, если указать 15W, а 15е число месяца суббота, то событие
    произойдет 14го в пятницу.</para>

  <para><guibutton>#</guibutton>. Очередность дня, например, значение 6#3 указывает на то, что необходимо выполнять каждую 3ю пятницу месяца.</para>

  <para>Примеры:</para>
  <programlisting><![CDATA[
0 0 12 * * ?             В 12 часов каждый день
0 15 10 ? * *            В 10:15 каждый день
0 15 10 * * ?            В 10:15 каждый день
0 15 10 * * ? *          В 10:15 каждый день
0 15 10 * * ? 2005       В 10:15 каждый день в течении 2005 года
0 * 14 * * ?             Каждую минуту стартовав в 14 часов и завершив в 14:59, каждый день
0 0/5 14 * * ?           Каждые 5 минут стартовав в 14 часов и завершив в 14:55, каждый день
0 0/5 14,18 * * ?        Каждые 5 минут стартовав в 14 часа и завершив в 14:55, и каждые 5 минут стартовав в 18 часов и завершив в 18:55, каждый день
0 0-5 14 * * ?           Каждую минуту стартовав в 14 часа и завершив в 14:05, каждый день
0 10,44 14 ? 3 WED       В 14:10 и 14:44 каждую среду месяца март
0 15 10 ? * MON-FRI      В 10:15 каждые понедельник, вторник, среду, четверг и пятницу
0 15 10 15 * ?           В 10:15 15 числа каждого месяца
0 15 10 L * ?            В 10:15 последнего дня месяца
0 15 10 ? * 6L           В 10:15 последней пятницы каждого месяца
0 15 10 ? * 6L 2002-2005 В 10:15 последней пятницы каждого месяца в 2002, 2003, 2004 и 2005 годах
0 15 10 ? * 6#3          В 10:15 третьей пятницы каждого месяца
0 0 12 1/5 * ?           В 12:00 каждый пятый день каждого месяца, стартовав в первый день месяца
0 11 11 11 11 ?          В 11:11 11 ноября
]]></programlisting>

</chapter>